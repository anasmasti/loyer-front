<div class="row title">
  <div class="col-lg-12 mt-3">
    <div class="d-lg-flex justify-content-lg-between">
      <h5 class="main-title">Direction régionale</h5>
      <!-- <div>
        <a *ngIf="!update" [routerLink]="['/lieux/list']" class="btn btn-sm main-btn">Voir la liste des directions régionales</a>
        <a class="text-dark ms-5" data-bs-toggle="tooltip" data-bs-placement="top"
          title="Ici vous pouvez ajouter une nouvelle direction régionale"><i class="fal fa-info"></i></a>
      </div> -->
    </div>
  </div>
</div>

<!--Début de conteneur dr-form  -->
<div id="form_content" class="mt-4">
  <!-- <h6>Remplissage des données</h6> -->

  <!--Début de Div qui contient le formulaire dr-form-->
  <div class="form-box mt-4">
    <!--Début Formulaire dr-form-->
    <form [formGroup]="drForm" enctype="multipart/form-data" (ngSubmit)="Lieu === '' ? addDR() : updateDR()" id="test">
      <div class="w-100 d-flex justify-content-center">
        <div *ngIf="errors" class="error-alert p-2 my-2">{{ errors }}</div>
        <div *ngIf="postDone" class="done-alert p-2 my-2">{{ PostSucces }}</div>
        <div *ngIf="updateDone" class="done-alert p-2 my-2">
          {{ updateSucces }}
        </div>
      </div>

      <!--Début 1er Row-->
      <div class="row">
        <div class="col-lg-3 form-group mt-4">
          <label for="">Code DR <span class="danger-txt">*</span></label>
          <input
            type="text"
            class="form-control rounded-pill"
            formControlName="code_lieu"
            [ngClass]="{
              'is-invalid': checkInputsValidation(code_lieu),
              'is-valid': !code_lieu?.invalid
            }"
          />
          <div class="" *ngIf="checkInputsValidation(code_lieu)">
            <p class="danger-txt" *ngIf="code_lieu?.errors?.required">
              Veuillez remplir ce champ
            </p>
            <p class="danger-txt" *ngIf="code_lieu?.errors?.maxlength">
              Ce champ ne doit pas dépasser 3 caractères
            </p>
          </div>
        </div>

        <div class="col-lg-3 form-group mt-4">
          <label for="">Direction Régionale <span class="danger-txt">*</span></label>
          <input
            type="text"
            class="form-control rounded-pill"
            formControlName="intitule_lieu"
            [ngClass]="{
              'is-invalid': checkInputsValidation(intitule_lieu),
              'is-valid': !intitule_lieu?.invalid
            }"
          />
          <div class="" *ngIf="checkInputsValidation(intitule_lieu)">
            <p class="danger-txt" *ngIf="intitule_lieu?.errors?.required">
              Veuillez remplir ce champ
            </p>
            <p class="danger-txt" *ngIf="intitule_lieu?.errors?.pattern">
              Vous devez entrer seulement des alphabets
            </p>
          </div>
        </div>

        <div class="col-lg-3 form-group mt-4">
          <label for="">Code localité</label>
          <input type="text" class="form-control rounded-pill" formControlName="code_localite" />
        </div>
        
        <div class="col-lg-3 form-group mt-4">
          <label for="">Fax</label>
          <input type="text" class="form-control rounded-pill" formControlName="fax" maxlength="10"
          [ngClass]="{
            'is-invalid': checkInputsValidation(fax)
            
          }"/>
          <div class="" *ngIf="checkInputsValidation(fax)">
            <p class="danger-txt" *ngIf="fax?.errors?.maxlength">
              Ce champ ne doit pas dépasser 10 caractères
            </p>
            <p class="danger-txt" *ngIf="fax?.errors?.pattern">
              Vous devez entrer seulement des chiffres
            </p>
          </div>
        </div>
        
        <div class="col-lg-3 form-group mt-4">
          <label for="">Téléphone</label>
          <input
          type="text"
          class="form-control rounded-pill"
          formControlName="telephone"
          maxlength="10"
          [ngClass]="{
            'is-invalid': checkInputsValidation(telephone)
          }"
          
          />
          <div class="" *ngIf="checkInputsValidation(telephone)">
            <p class="danger-txt" *ngIf="telephone?.errors?.maxlength">
              Ce champ ne doit pas dépasser 10 caractères
            </p>
            <p class="danger-txt" *ngIf="telephone?.errors?.pattern">
              Vous devez entrer seulement des chiffres
            </p>
          </div>
          
        </div>
      </div>

      <div class="form-group mt-5 col-lg-2 d-flex">
        <button type="submit" class="btn second-btn form-control" *ngIf="Lieu !== ''" (click)="scrollToTop()" [disabled]="drForm.invalid">
          Modifier
        </button>
        <button type="submit" class="btn second-btn form-control" *ngIf="Lieu === ''" (click)="scrollToTop()" [disabled]="drForm.invalid">
          Ajouter
        </button>
      </div>
    </form>
    <!-- Fin de formulaire-->
  </div>
  <!--Fin Div form dr-form-->
</div>
<!--Fin de Conteneur dr-form-->