<app-main-modal [closeBtn]='false'>
    <div class="login-content d-flex align-items-center justify-content-center flex-column">
        <div class="w-100 d-flex justify-content-center">
            <div *ngIf="hasError" class="error-alert p-2 my-2">{{ errorMessage }}</div>
          </div>

        <div>
            <img src="../../../assets/images/logo/Attawfiq.jpg" alt="Attawfiq Logo" width="auto" draggable="false"
                loading="lazy" class="mr-3 img-thumbnail border-0 logo">
        </div>
        <h4>Connexion au compte</h4>
        <p>Vous devez se connecter pour accéder à l'application.</p>
        <form [formGroup]="loginForm" class="mb-3 mt-4">
            <div *ngIf="!matricule" class="form-group">
                <label for="">Matricule</label>
                <input type="text" placeholder="Matricule" class="form-control rounded-pill"
                    formControlName="Matricule">
            </div>

            <input *ngIf="matricule" type="hidden" [(ngModel)]="matricule" class="form-control rounded-pill"
                formControlName="Matricule">

            <div *ngIf="matricule" class="d-flex align-items-baseline gap-2">
                <div>
                    <p>
                        Matricule
                        <span class="h4">
                            <strong>
                                {{matricule}}
                            </strong>
                        </span>
                    </p>
                </div>
                <div>
                    <a (click)="removeUser()" class="btn btn-sm danger-btn"><i class="far fa-trash"></i></a>
                </div>
            </div>
        </form>

        <a (click)="login()" class="btn second-btn">Se connecter <i class="fal fa-sign-in-alt"></i></a>
    </div>
</app-main-modal>